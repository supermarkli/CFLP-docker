2025-07-17 09:41:19 - INFO - [logging_config.py:70] - 日志文件已创建: logs/server_he.log
2025-07-17 09:41:19 - INFO - [he_aggregation_strategy.py:19] - 启动HE模式：正在生成Paillier密钥对...
2025-07-17 09:41:19 - INFO - [he_aggregation_strategy.py:23] - Paillier密钥对生成完毕 (密钥长度: 2048 bits)。
2025-07-17 09:41:19 - INFO - [server_grpc.py:87] - 服务器初始化完成 (模式: he)，等待 3 个客户端注册...
2025-07-17 09:41:19 - INFO - [server_grpc.py:265] - 联邦学习安全服务器正在启动，监听端口: 50051
2025-07-17 09:41:19 - INFO - [server_grpc.py:106] - 接收到客户端 3 的注册请求 (模型: CNN, 数据量: 18666)
2025-07-17 09:41:19 - INFO - [server_grpc.py:115] - 客户端 3 注册成功。当前 1/3 个客户端。
2025-07-17 09:41:19 - INFO - [server_grpc.py:106] - 接收到客户端 2 的注册请求 (模型: CNN, 数据量: 18666)
2025-07-17 09:41:19 - INFO - [he_aggregation_strategy.py:34] - 向客户端 3 提供HE公钥。
2025-07-17 09:41:19 - INFO - [server_grpc.py:106] - 接收到客户端 1 的注册请求 (模型: CNN, 数据量: 18667)
2025-07-17 09:41:20 - INFO - [server_grpc.py:115] - 客户端 2 注册成功。当前 2/3 个客户端。
2025-07-17 09:41:20 - INFO - [he_aggregation_strategy.py:34] - 向客户端 2 提供HE公钥。
2025-07-17 09:41:20 - INFO - [server_grpc.py:115] - 客户端 1 注册成功。当前 3/3 个客户端。
2025-07-17 09:41:20 - INFO - [he_aggregation_strategy.py:34] - 向客户端 1 提供HE公钥。
2025-07-17 09:41:20 - INFO - [server_grpc.py:121] - 所有客户端已注册，设置 next_step=True，准备开始训练。
2025-07-17 09:41:20 - INFO - [server_grpc.py:124] - 联邦学习流程计时开始
2025-07-17 09:41:20 - INFO - [server_grpc.py:141] - [Round 1] 客户端 3 检查训练状态，当前next_step=True, count=0
2025-07-17 09:41:20 - INFO - [server_grpc.py:146] - [Round 1] 客户端 3 获得训练许可，count增加到 1/3
2025-07-17 09:41:20 - INFO - [server_grpc.py:141] - [Round 1] 客户端 2 检查训练状态，当前next_step=True, count=1
2025-07-17 09:41:20 - INFO - [server_grpc.py:146] - [Round 1] 客户端 2 获得训练许可，count增加到 2/3
2025-07-17 09:41:20 - INFO - [server_grpc.py:141] - [Round 1] 客户端 1 检查训练状态，当前next_step=True, count=2
2025-07-17 09:41:20 - INFO - [server_grpc.py:146] - [Round 1] 客户端 1 获得训练许可，count增加到 3/3
2025-07-17 09:41:20 - INFO - [server_grpc.py:150] - [Round 1] 所有客户端已获得训练许可，重置next_step=False, count=0
2025-07-17 09:41:46 - INFO - [he_aggregation_strategy.py:99] - [Round 1] 开始接收来自客户端 2 的流式更新...
2025-07-17 09:41:48 - INFO - [he_aggregation_strategy.py:99] - [Round 1] 开始接收来自客户端 3 的流式更新...
2025-07-17 09:41:49 - INFO - [he_aggregation_strategy.py:99] - [Round 1] 开始接收来自客户端 1 的流式更新...
2025-07-17 09:41:56 - INFO - [he_aggregation_strategy.py:120] - [Round 1] 客户端 2 的层 conv1.0.weight 数据接收完毕，开始重构...
2025-07-17 09:41:56 - INFO - [he_aggregation_strategy.py:138] - [Round 1] 层 conv1.0.weight 重构并存储成功。
2025-07-17 09:41:57 - INFO - [he_aggregation_strategy.py:120] - [Round 1] 客户端 2 的层 conv1.0.bias 数据接收完毕，开始重构...
2025-07-17 09:41:57 - INFO - [he_aggregation_strategy.py:138] - [Round 1] 层 conv1.0.bias 重构并存储成功。
2025-07-17 09:41:57 - INFO - [he_aggregation_strategy.py:120] - [Round 1] 客户端 3 的层 conv1.0.weight 数据接收完毕，开始重构...
2025-07-17 09:41:57 - INFO - [he_aggregation_strategy.py:138] - [Round 1] 层 conv1.0.weight 重构并存储成功。
2025-07-17 09:41:58 - INFO - [he_aggregation_strategy.py:120] - [Round 1] 客户端 3 的层 conv1.0.bias 数据接收完毕，开始重构...
2025-07-17 09:41:58 - INFO - [he_aggregation_strategy.py:138] - [Round 1] 层 conv1.0.bias 重构并存储成功。
2025-07-17 09:41:58 - INFO - [he_aggregation_strategy.py:120] - [Round 1] 客户端 1 的层 conv1.0.weight 数据接收完毕，开始重构...
2025-07-17 09:41:58 - INFO - [he_aggregation_strategy.py:138] - [Round 1] 层 conv1.0.weight 重构并存储成功。
2025-07-17 09:41:59 - INFO - [he_aggregation_strategy.py:120] - [Round 1] 客户端 1 的层 conv1.0.bias 数据接收完毕，开始重构...
2025-07-17 09:41:59 - INFO - [he_aggregation_strategy.py:138] - [Round 1] 层 conv1.0.bias 重构并存储成功。
2025-07-17 09:51:27 - INFO - [he_aggregation_strategy.py:120] - [Round 1] 客户端 2 的层 conv2.0.weight 数据接收完毕，开始重构...
2025-07-17 09:51:27 - INFO - [he_aggregation_strategy.py:138] - [Round 1] 层 conv2.0.weight 重构并存储成功。
2025-07-17 09:51:27 - INFO - [he_aggregation_strategy.py:120] - [Round 1] 客户端 3 的层 conv2.0.weight 数据接收完毕，开始重构...
2025-07-17 09:51:27 - INFO - [he_aggregation_strategy.py:138] - [Round 1] 层 conv2.0.weight 重构并存储成功。
2025-07-17 09:51:27 - INFO - [he_aggregation_strategy.py:120] - [Round 1] 客户端 2 的层 conv2.0.bias 数据接收完毕，开始重构...
2025-07-17 09:51:27 - INFO - [he_aggregation_strategy.py:138] - [Round 1] 层 conv2.0.bias 重构并存储成功。
2025-07-17 09:51:28 - INFO - [he_aggregation_strategy.py:120] - [Round 1] 客户端 3 的层 conv2.0.bias 数据接收完毕，开始重构...
2025-07-17 09:51:28 - INFO - [he_aggregation_strategy.py:138] - [Round 1] 层 conv2.0.bias 重构并存储成功。
2025-07-17 09:51:29 - INFO - [he_aggregation_strategy.py:120] - [Round 1] 客户端 1 的层 conv2.0.weight 数据接收完毕，开始重构...
2025-07-17 09:51:29 - INFO - [he_aggregation_strategy.py:138] - [Round 1] 层 conv2.0.weight 重构并存储成功。
2025-07-17 09:51:30 - INFO - [he_aggregation_strategy.py:120] - [Round 1] 客户端 1 的层 conv2.0.bias 数据接收完毕，开始重构...
2025-07-17 09:51:30 - INFO - [he_aggregation_strategy.py:138] - [Round 1] 层 conv2.0.bias 重构并存储成功。
2025-07-17 11:26:59 - INFO - [he_aggregation_strategy.py:120] - [Round 1] 客户端 2 的层 fc1.0.weight 数据接收完毕，开始重构...
2025-07-17 11:26:59 - INFO - [he_aggregation_strategy.py:120] - [Round 1] 客户端 3 的层 fc1.0.weight 数据接收完毕，开始重构...
2025-07-17 11:27:04 - INFO - [he_aggregation_strategy.py:138] - [Round 1] 层 fc1.0.weight 重构并存储成功。
2025-07-17 11:27:04 - INFO - [he_aggregation_strategy.py:138] - [Round 1] 层 fc1.0.weight 重构并存储成功。
2025-07-17 11:27:04 - INFO - [he_aggregation_strategy.py:120] - [Round 1] 客户端 2 的层 fc1.0.bias 数据接收完毕，开始重构...
2025-07-17 11:27:04 - INFO - [he_aggregation_strategy.py:138] - [Round 1] 层 fc1.0.bias 重构并存储成功。
2025-07-17 11:27:05 - INFO - [he_aggregation_strategy.py:120] - [Round 1] 客户端 3 的层 fc1.0.bias 数据接收完毕，开始重构...
2025-07-17 11:27:05 - INFO - [he_aggregation_strategy.py:138] - [Round 1] 层 fc1.0.bias 重构并存储成功。
2025-07-17 11:27:06 - INFO - [he_aggregation_strategy.py:120] - [Round 1] 客户端 1 的层 fc1.0.weight 数据接收完毕，开始重构...
2025-07-17 11:27:09 - INFO - [he_aggregation_strategy.py:138] - [Round 1] 层 fc1.0.weight 重构并存储成功。
2025-07-17 11:27:12 - INFO - [he_aggregation_strategy.py:120] - [Round 1] 客户端 1 的层 fc1.0.bias 数据接收完毕，开始重构...
2025-07-17 11:27:12 - INFO - [he_aggregation_strategy.py:138] - [Round 1] 层 fc1.0.bias 重构并存储成功。
2025-07-17 11:28:00 - INFO - [he_aggregation_strategy.py:120] - [Round 1] 客户端 2 的层 fc.weight 数据接收完毕，开始重构...
2025-07-17 11:28:00 - INFO - [he_aggregation_strategy.py:138] - [Round 1] 层 fc.weight 重构并存储成功。
2025-07-17 11:28:00 - INFO - [he_aggregation_strategy.py:120] - [Round 1] 客户端 3 的层 fc.weight 数据接收完毕，开始重构...
2025-07-17 11:28:01 - INFO - [he_aggregation_strategy.py:138] - [Round 1] 层 fc.weight 重构并存储成功。
2025-07-17 11:28:01 - INFO - [he_aggregation_strategy.py:120] - [Round 1] 客户端 2 的层 fc.bias 数据接收完毕，开始重构...
2025-07-17 11:28:01 - INFO - [he_aggregation_strategy.py:138] - [Round 1] 层 fc.bias 重构并存储成功。
2025-07-17 11:28:01 - INFO - [he_aggregation_strategy.py:120] - [Round 1] 客户端 3 的层 fc.bias 数据接收完毕，开始重构...
2025-07-17 11:28:01 - INFO - [he_aggregation_strategy.py:138] - [Round 1] 层 fc.bias 重构并存储成功。
2025-07-17 11:28:01 - INFO - [he_aggregation_strategy.py:145] - [Round 1] 已成功处理客户端 2 的所有流式数据。
2025-07-17 11:28:01 - INFO - [he_aggregation_strategy.py:148] - [Round 1] 所有客户端更新完毕，触发聚合。
2025-07-17 11:28:01 - INFO - [server_grpc.py:199] - [Round 1] 所有客户端参数已收集完毕，开始聚合。
2025-07-17 11:28:01 - INFO - [he_aggregation_strategy.py:180] - [Round 1] 开始密文聚合...
2025-07-17 11:28:01 - DEBUG - [he_aggregation_strategy.py:205] - 开始解密参数 conv1.0.weight...
2025-07-17 11:28:03 - DEBUG - [he_aggregation_strategy.py:205] - 开始解密参数 conv1.0.bias...
2025-07-17 11:28:05 - DEBUG - [he_aggregation_strategy.py:205] - 开始解密参数 conv2.0.weight...
2025-07-17 11:28:07 - INFO - [he_aggregation_strategy.py:120] - [Round 1] 客户端 1 的层 fc.weight 数据接收完毕，开始重构...
2025-07-17 11:30:41 - DEBUG - [he_aggregation_strategy.py:205] - 开始解密参数 conv2.0.bias...
2025-07-17 11:31:02 - DEBUG - [he_aggregation_strategy.py:205] - 开始解密参数 fc1.0.weight...
2025-07-17 11:57:38 - DEBUG - [he_aggregation_strategy.py:205] - 开始解密参数 fc1.0.bias...
2025-07-17 11:57:40 - ERROR - [server_grpc.py:231] - 处理轮次 0 完成时出错: 'fc.weight'
Traceback (most recent call last):
  File "/app/src/grpc/server_grpc.py", line 201, in process_round_completion
    aggregated_params = self.aggregation_strategy.aggregate_parameters(round_num)
  File "/app/src/strategies/server/he_aggregation_strategy.py", line 202, in aggregate_parameters
    summed_params = sum(p[key] for p in parameters_list)
  File "/app/src/strategies/server/he_aggregation_strategy.py", line 202, in <genexpr>
    summed_params = sum(p[key] for p in parameters_list)
KeyError: 'fc.weight'
2025-07-17 11:57:40 - INFO - [server_grpc.py:141] - [Round 1] 客户端 2 检查训练状态，当前next_step=False, count=0
2025-07-17 11:57:40 - INFO - [he_aggregation_strategy.py:145] - [Round 1] 已成功处理客户端 3 的所有流式数据。
2025-07-17 11:57:40 - INFO - [he_aggregation_strategy.py:148] - [Round 1] 所有客户端更新完毕，触发聚合。
2025-07-17 11:57:40 - INFO - [he_aggregation_strategy.py:138] - [Round 1] 层 fc.weight 重构并存储成功。
2025-07-17 11:57:40 - INFO - [server_grpc.py:199] - [Round 1] 所有客户端参数已收集完毕，开始聚合。
2025-07-17 11:57:40 - INFO - [he_aggregation_strategy.py:120] - [Round 1] 客户端 1 的层 fc.bias 数据接收完毕，开始重构...
2025-07-17 11:57:40 - INFO - [he_aggregation_strategy.py:180] - [Round 1] 开始密文聚合...
2025-07-17 11:57:40 - DEBUG - [he_aggregation_strategy.py:205] - 开始解密参数 conv1.0.weight...
2025-07-17 11:57:42 - DEBUG - [he_aggregation_strategy.py:205] - 开始解密参数 conv1.0.bias...
2025-07-17 11:57:44 - DEBUG - [he_aggregation_strategy.py:205] - 开始解密参数 conv2.0.weight...
2025-07-17 12:00:20 - DEBUG - [he_aggregation_strategy.py:205] - 开始解密参数 conv2.0.bias...
2025-07-17 12:00:38 - DEBUG - [he_aggregation_strategy.py:205] - 开始解密参数 fc1.0.weight...
2025-07-17 12:27:13 - DEBUG - [he_aggregation_strategy.py:205] - 开始解密参数 fc1.0.bias...
2025-07-17 12:27:15 - DEBUG - [he_aggregation_strategy.py:205] - 开始解密参数 fc.weight...
2025-07-17 12:27:30 - ERROR - [server_grpc.py:231] - 处理轮次 0 完成时出错: 'fc.bias'
Traceback (most recent call last):
  File "/app/src/grpc/server_grpc.py", line 201, in process_round_completion
    aggregated_params = self.aggregation_strategy.aggregate_parameters(round_num)
  File "/app/src/strategies/server/he_aggregation_strategy.py", line 202, in aggregate_parameters
    summed_params = sum(p[key] for p in parameters_list)
  File "/app/src/strategies/server/he_aggregation_strategy.py", line 202, in <genexpr>
    summed_params = sum(p[key] for p in parameters_list)
KeyError: 'fc.bias'
2025-07-17 12:27:30 - INFO - [he_aggregation_strategy.py:138] - [Round 1] 层 fc.bias 重构并存储成功。
2025-07-17 12:27:30 - INFO - [server_grpc.py:141] - [Round 1] 客户端 3 检查训练状态，当前next_step=False, count=0
2025-07-17 12:27:30 - INFO - [server_grpc.py:141] - [Round 1] 客户端 2 检查训练状态，当前next_step=False, count=0
2025-07-17 12:27:30 - INFO - [he_aggregation_strategy.py:145] - [Round 1] 已成功处理客户端 1 的所有流式数据。
2025-07-17 12:27:30 - INFO - [he_aggregation_strategy.py:148] - [Round 1] 所有客户端更新完毕，触发聚合。
2025-07-17 12:27:30 - INFO - [server_grpc.py:199] - [Round 1] 所有客户端参数已收集完毕，开始聚合。
2025-07-17 12:27:30 - INFO - [he_aggregation_strategy.py:180] - [Round 1] 开始密文聚合...
2025-07-17 12:27:30 - DEBUG - [he_aggregation_strategy.py:205] - 开始解密参数 conv1.0.weight...
2025-07-17 12:27:33 - DEBUG - [he_aggregation_strategy.py:205] - 开始解密参数 conv1.0.bias...
2025-07-17 12:27:34 - DEBUG - [he_aggregation_strategy.py:205] - 开始解密参数 conv2.0.weight...
2025-07-17 12:30:10 - DEBUG - [he_aggregation_strategy.py:205] - 开始解密参数 conv2.0.bias...
2025-07-17 12:30:28 - DEBUG - [he_aggregation_strategy.py:205] - 开始解密参数 fc1.0.weight...
2025-07-17 12:57:02 - DEBUG - [he_aggregation_strategy.py:205] - 开始解密参数 fc1.0.bias...
2025-07-17 12:57:04 - DEBUG - [he_aggregation_strategy.py:205] - 开始解密参数 fc.weight...
2025-07-17 12:57:19 - DEBUG - [he_aggregation_strategy.py:205] - 开始解密参数 fc.bias...
2025-07-17 12:57:19 - INFO - [he_aggregation_strategy.py:232] - [Round 1] 密文参数聚合与解密完成。
2025-07-17 12:57:19 - INFO - [server_grpc.py:204] - [Round 1] 全局模型参数更新完成。
2025-07-17 12:57:19 - INFO - [he_aggregation_strategy.py:272] - [Round 1] 全局评估 (HE): Acc=0.9743, AUC=0.9964, Loss=0.0708
2025-07-17 12:57:19 - INFO - [server_grpc.py:229] - 第 1 轮聚合完成，进入第 2 轮。
2025-07-17 12:57:19 - INFO - [server_grpc.py:141] - [Round 2] 客户端 1 检查训练状态，当前next_step=True, count=0
2025-07-17 12:57:19 - INFO - [server_grpc.py:146] - [Round 2] 客户端 1 获得训练许可，count增加到 1/3
2025-07-17 12:57:19 - INFO - [server_grpc.py:141] - [Round 2] 客户端 3 检查训练状态，当前next_step=True, count=1
2025-07-17 12:57:19 - INFO - [server_grpc.py:146] - [Round 2] 客户端 3 获得训练许可，count增加到 2/3
2025-07-17 12:57:19 - INFO - [server_grpc.py:141] - [Round 2] 客户端 2 检查训练状态，当前next_step=True, count=2
2025-07-17 12:57:19 - INFO - [server_grpc.py:146] - [Round 2] 客户端 2 获得训练许可，count增加到 3/3
2025-07-17 12:57:19 - INFO - [server_grpc.py:150] - [Round 2] 所有客户端已获得训练许可，重置next_step=False, count=0
2025-07-17 12:57:19 - INFO - [server_grpc.py:187] - 向客户端 2 提供第1轮全局模型
2025-07-17 12:57:19 - INFO - [server_grpc.py:187] - 向客户端 1 提供第1轮全局模型
2025-07-17 12:57:19 - INFO - [server_grpc.py:187] - 向客户端 3 提供第1轮全局模型
2025-07-17 12:57:40 - INFO - [he_aggregation_strategy.py:99] - [Round 2] 开始接收来自客户端 3 的流式更新...
2025-07-17 12:57:40 - INFO - [he_aggregation_strategy.py:99] - [Round 2] 开始接收来自客户端 2 的流式更新...
2025-07-17 12:57:40 - INFO - [he_aggregation_strategy.py:99] - [Round 2] 开始接收来自客户端 1 的流式更新...
2025-07-17 12:57:49 - INFO - [he_aggregation_strategy.py:120] - [Round 2] 客户端 3 的层 conv1.0.weight 数据接收完毕，开始重构...
2025-07-17 12:57:49 - INFO - [he_aggregation_strategy.py:138] - [Round 2] 层 conv1.0.weight 重构并存储成功。
2025-07-17 12:57:49 - INFO - [he_aggregation_strategy.py:120] - [Round 2] 客户端 2 的层 conv1.0.weight 数据接收完毕，开始重构...
2025-07-17 12:57:49 - INFO - [he_aggregation_strategy.py:138] - [Round 2] 层 conv1.0.weight 重构并存储成功。
2025-07-17 12:57:49 - INFO - [he_aggregation_strategy.py:120] - [Round 2] 客户端 1 的层 conv1.0.weight 数据接收完毕，开始重构...
2025-07-17 12:57:49 - INFO - [he_aggregation_strategy.py:138] - [Round 2] 层 conv1.0.weight 重构并存储成功。
2025-07-17 12:57:49 - INFO - [he_aggregation_strategy.py:120] - [Round 2] 客户端 2 的层 conv1.0.bias 数据接收完毕，开始重构...
2025-07-17 12:57:49 - INFO - [he_aggregation_strategy.py:138] - [Round 2] 层 conv1.0.bias 重构并存储成功。
2025-07-17 12:57:49 - INFO - [he_aggregation_strategy.py:120] - [Round 2] 客户端 3 的层 conv1.0.bias 数据接收完毕，开始重构...
2025-07-17 12:57:49 - INFO - [he_aggregation_strategy.py:138] - [Round 2] 层 conv1.0.bias 重构并存储成功。
2025-07-17 12:57:49 - INFO - [he_aggregation_strategy.py:120] - [Round 2] 客户端 1 的层 conv1.0.bias 数据接收完毕，开始重构...
2025-07-17 12:57:49 - INFO - [he_aggregation_strategy.py:138] - [Round 2] 层 conv1.0.bias 重构并存储成功。
2025-07-17 13:07:01 - INFO - [he_aggregation_strategy.py:120] - [Round 2] 客户端 2 的层 conv2.0.weight 数据接收完毕，开始重构...
2025-07-17 13:07:01 - INFO - [he_aggregation_strategy.py:138] - [Round 2] 层 conv2.0.weight 重构并存储成功。
2025-07-17 13:07:01 - INFO - [he_aggregation_strategy.py:120] - [Round 2] 客户端 2 的层 conv2.0.bias 数据接收完毕，开始重构...
2025-07-17 13:07:01 - INFO - [he_aggregation_strategy.py:138] - [Round 2] 层 conv2.0.bias 重构并存储成功。
2025-07-17 13:07:02 - INFO - [he_aggregation_strategy.py:120] - [Round 2] 客户端 3 的层 conv2.0.weight 数据接收完毕，开始重构...
2025-07-17 13:07:02 - INFO - [he_aggregation_strategy.py:138] - [Round 2] 层 conv2.0.weight 重构并存储成功。
2025-07-17 13:07:02 - INFO - [he_aggregation_strategy.py:120] - [Round 2] 客户端 1 的层 conv2.0.weight 数据接收完毕，开始重构...
2025-07-17 13:07:02 - INFO - [he_aggregation_strategy.py:138] - [Round 2] 层 conv2.0.weight 重构并存储成功。
2025-07-17 13:07:02 - INFO - [he_aggregation_strategy.py:120] - [Round 2] 客户端 3 的层 conv2.0.bias 数据接收完毕，开始重构...
2025-07-17 13:07:03 - INFO - [he_aggregation_strategy.py:138] - [Round 2] 层 conv2.0.bias 重构并存储成功。
2025-07-17 13:07:03 - INFO - [he_aggregation_strategy.py:120] - [Round 2] 客户端 1 的层 conv2.0.bias 数据接收完毕，开始重构...
2025-07-17 13:07:03 - INFO - [he_aggregation_strategy.py:138] - [Round 2] 层 conv2.0.bias 重构并存储成功。
2025-07-17 14:40:48 - INFO - [he_aggregation_strategy.py:120] - [Round 2] 客户端 2 的层 fc1.0.weight 数据接收完毕，开始重构...
2025-07-17 14:40:50 - INFO - [he_aggregation_strategy.py:138] - [Round 2] 层 fc1.0.weight 重构并存储成功。
2025-07-17 14:40:53 - INFO - [he_aggregation_strategy.py:120] - [Round 2] 客户端 2 的层 fc1.0.bias 数据接收完毕，开始重构...
2025-07-17 14:40:53 - INFO - [he_aggregation_strategy.py:138] - [Round 2] 层 fc1.0.bias 重构并存储成功。
2025-07-17 14:40:54 - INFO - [he_aggregation_strategy.py:120] - [Round 2] 客户端 1 的层 fc1.0.weight 数据接收完毕，开始重构...
2025-07-17 14:40:55 - INFO - [he_aggregation_strategy.py:120] - [Round 2] 客户端 3 的层 fc1.0.weight 数据接收完毕，开始重构...
2025-07-17 14:40:58 - INFO - [he_aggregation_strategy.py:138] - [Round 2] 层 fc1.0.weight 重构并存储成功。
2025-07-17 14:40:59 - INFO - [he_aggregation_strategy.py:138] - [Round 2] 层 fc1.0.weight 重构并存储成功。
2025-07-17 14:41:00 - INFO - [he_aggregation_strategy.py:120] - [Round 2] 客户端 1 的层 fc1.0.bias 数据接收完毕，开始重构...
2025-07-17 14:41:00 - INFO - [he_aggregation_strategy.py:138] - [Round 2] 层 fc1.0.bias 重构并存储成功。
2025-07-17 14:41:00 - INFO - [he_aggregation_strategy.py:120] - [Round 2] 客户端 3 的层 fc1.0.bias 数据接收完毕，开始重构...
2025-07-17 14:41:01 - INFO - [he_aggregation_strategy.py:138] - [Round 2] 层 fc1.0.bias 重构并存储成功。
2025-07-17 14:41:48 - INFO - [he_aggregation_strategy.py:120] - [Round 2] 客户端 2 的层 fc.weight 数据接收完毕，开始重构...
2025-07-17 14:41:48 - INFO - [he_aggregation_strategy.py:138] - [Round 2] 层 fc.weight 重构并存储成功。
2025-07-17 14:41:49 - INFO - [he_aggregation_strategy.py:120] - [Round 2] 客户端 2 的层 fc.bias 数据接收完毕，开始重构...
2025-07-17 14:41:49 - INFO - [he_aggregation_strategy.py:138] - [Round 2] 层 fc.bias 重构并存储成功。
2025-07-17 14:41:49 - INFO - [he_aggregation_strategy.py:145] - [Round 2] 已成功处理客户端 2 的所有流式数据。
2025-07-17 14:41:49 - INFO - [he_aggregation_strategy.py:148] - [Round 2] 所有客户端更新完毕，触发聚合。
2025-07-17 14:41:49 - INFO - [server_grpc.py:199] - [Round 2] 所有客户端参数已收集完毕，开始聚合。
2025-07-17 14:41:49 - INFO - [he_aggregation_strategy.py:180] - [Round 2] 开始密文聚合...
2025-07-17 14:41:49 - DEBUG - [he_aggregation_strategy.py:205] - 开始解密参数 conv1.0.weight...
2025-07-17 14:41:51 - DEBUG - [he_aggregation_strategy.py:205] - 开始解密参数 conv1.0.bias...
2025-07-17 14:41:54 - DEBUG - [he_aggregation_strategy.py:205] - 开始解密参数 conv2.0.weight...
2025-07-17 14:41:55 - INFO - [he_aggregation_strategy.py:120] - [Round 2] 客户端 1 的层 fc.weight 数据接收完毕，开始重构...
2025-07-17 14:41:55 - INFO - [he_aggregation_strategy.py:120] - [Round 2] 客户端 3 的层 fc.weight 数据接收完毕，开始重构...
2025-07-17 14:44:29 - DEBUG - [he_aggregation_strategy.py:205] - 开始解密参数 conv2.0.bias...
2025-07-17 14:44:48 - DEBUG - [he_aggregation_strategy.py:205] - 开始解密参数 fc1.0.weight...
2025-07-17 15:11:26 - DEBUG - [he_aggregation_strategy.py:205] - 开始解密参数 fc1.0.bias...
2025-07-17 15:11:28 - INFO - [he_aggregation_strategy.py:232] - [Round 2] 密文参数聚合与解密完成。
2025-07-17 15:11:28 - INFO - [server_grpc.py:204] - [Round 2] 全局模型参数更新完成。
2025-07-17 15:11:28 - INFO - [he_aggregation_strategy.py:272] - [Round 2] 全局评估 (HE): Acc=0.9820, AUC=0.9981, Loss=0.0410
2025-07-17 15:11:28 - INFO - [server_grpc.py:229] - 第 2 轮聚合完成，进入第 3 轮。
2025-07-17 15:11:28 - INFO - [server_grpc.py:141] - [Round 3] 客户端 2 检查训练状态，当前next_step=True, count=0
2025-07-17 15:11:28 - INFO - [server_grpc.py:146] - [Round 3] 客户端 2 获得训练许可，count增加到 1/3
2025-07-17 15:11:28 - INFO - [he_aggregation_strategy.py:138] - [Round 2] 层 fc.weight 重构并存储成功。
2025-07-17 15:11:28 - INFO - [he_aggregation_strategy.py:138] - [Round 2] 层 fc.weight 重构并存储成功。
2025-07-17 15:11:28 - INFO - [he_aggregation_strategy.py:120] - [Round 2] 客户端 1 的层 fc.bias 数据接收完毕，开始重构...
2025-07-17 15:11:28 - INFO - [he_aggregation_strategy.py:138] - [Round 2] 层 fc.bias 重构并存储成功。
2025-07-17 15:11:28 - INFO - [he_aggregation_strategy.py:120] - [Round 2] 客户端 3 的层 fc.bias 数据接收完毕，开始重构...
2025-07-17 15:11:28 - INFO - [server_grpc.py:187] - 向客户端 2 提供第2轮全局模型
2025-07-17 15:11:28 - INFO - [he_aggregation_strategy.py:145] - [Round 2] 已成功处理客户端 1 的所有流式数据。
2025-07-17 15:11:28 - INFO - [he_aggregation_strategy.py:138] - [Round 2] 层 fc.bias 重构并存储成功。
2025-07-17 15:11:28 - INFO - [he_aggregation_strategy.py:145] - [Round 2] 已成功处理客户端 3 的所有流式数据。
2025-07-17 15:11:28 - INFO - [server_grpc.py:141] - [Round 3] 客户端 1 检查训练状态，当前next_step=True, count=1
2025-07-17 15:11:28 - INFO - [server_grpc.py:146] - [Round 3] 客户端 1 获得训练许可，count增加到 2/3
2025-07-17 15:11:28 - INFO - [server_grpc.py:141] - [Round 3] 客户端 3 检查训练状态，当前next_step=True, count=2
2025-07-17 15:11:28 - INFO - [server_grpc.py:146] - [Round 3] 客户端 3 获得训练许可，count增加到 3/3
2025-07-17 15:11:28 - INFO - [server_grpc.py:150] - [Round 3] 所有客户端已获得训练许可，重置next_step=False, count=0
2025-07-17 15:11:28 - INFO - [server_grpc.py:187] - 向客户端 1 提供第2轮全局模型
2025-07-17 15:11:28 - INFO - [server_grpc.py:187] - 向客户端 3 提供第2轮全局模型
2025-07-17 15:11:47 - INFO - [he_aggregation_strategy.py:99] - [Round 3] 开始接收来自客户端 3 的流式更新...
2025-07-17 15:11:48 - INFO - [he_aggregation_strategy.py:99] - [Round 3] 开始接收来自客户端 2 的流式更新...
2025-07-17 15:11:48 - INFO - [he_aggregation_strategy.py:99] - [Round 3] 开始接收来自客户端 1 的流式更新...
2025-07-17 15:11:56 - INFO - [he_aggregation_strategy.py:120] - [Round 3] 客户端 3 的层 conv1.0.weight 数据接收完毕，开始重构...
2025-07-17 15:11:56 - INFO - [he_aggregation_strategy.py:138] - [Round 3] 层 conv1.0.weight 重构并存储成功。
2025-07-17 15:11:56 - INFO - [he_aggregation_strategy.py:120] - [Round 3] 客户端 1 的层 conv1.0.weight 数据接收完毕，开始重构...
2025-07-17 15:11:56 - INFO - [he_aggregation_strategy.py:138] - [Round 3] 层 conv1.0.weight 重构并存储成功。
2025-07-17 15:11:56 - INFO - [he_aggregation_strategy.py:120] - [Round 3] 客户端 2 的层 conv1.0.weight 数据接收完毕，开始重构...
2025-07-17 15:11:56 - INFO - [he_aggregation_strategy.py:138] - [Round 3] 层 conv1.0.weight 重构并存储成功。
2025-07-17 15:11:57 - INFO - [he_aggregation_strategy.py:120] - [Round 3] 客户端 3 的层 conv1.0.bias 数据接收完毕，开始重构...
2025-07-17 15:11:57 - INFO - [he_aggregation_strategy.py:138] - [Round 3] 层 conv1.0.bias 重构并存储成功。
2025-07-17 15:11:57 - INFO - [he_aggregation_strategy.py:120] - [Round 3] 客户端 1 的层 conv1.0.bias 数据接收完毕，开始重构...
2025-07-17 15:11:57 - INFO - [he_aggregation_strategy.py:138] - [Round 3] 层 conv1.0.bias 重构并存储成功。
2025-07-17 15:11:57 - INFO - [he_aggregation_strategy.py:120] - [Round 3] 客户端 2 的层 conv1.0.bias 数据接收完毕，开始重构...
2025-07-17 15:11:57 - INFO - [he_aggregation_strategy.py:138] - [Round 3] 层 conv1.0.bias 重构并存储成功。
2025-07-17 15:21:08 - INFO - [he_aggregation_strategy.py:120] - [Round 3] 客户端 3 的层 conv2.0.weight 数据接收完毕，开始重构...
2025-07-17 15:21:08 - INFO - [he_aggregation_strategy.py:138] - [Round 3] 层 conv2.0.weight 重构并存储成功。
2025-07-17 15:21:09 - INFO - [he_aggregation_strategy.py:120] - [Round 3] 客户端 3 的层 conv2.0.bias 数据接收完毕，开始重构...
2025-07-17 15:21:09 - INFO - [he_aggregation_strategy.py:138] - [Round 3] 层 conv2.0.bias 重构并存储成功。
2025-07-17 15:21:09 - INFO - [he_aggregation_strategy.py:120] - [Round 3] 客户端 2 的层 conv2.0.weight 数据接收完毕，开始重构...
2025-07-17 15:21:10 - INFO - [he_aggregation_strategy.py:138] - [Round 3] 层 conv2.0.weight 重构并存储成功。
2025-07-17 15:21:10 - INFO - [he_aggregation_strategy.py:120] - [Round 3] 客户端 2 的层 conv2.0.bias 数据接收完毕，开始重构...
2025-07-17 15:21:10 - INFO - [he_aggregation_strategy.py:138] - [Round 3] 层 conv2.0.bias 重构并存储成功。
2025-07-17 15:21:11 - INFO - [he_aggregation_strategy.py:120] - [Round 3] 客户端 1 的层 conv2.0.weight 数据接收完毕，开始重构...
2025-07-17 15:21:11 - INFO - [he_aggregation_strategy.py:138] - [Round 3] 层 conv2.0.weight 重构并存储成功。
2025-07-17 15:21:11 - INFO - [he_aggregation_strategy.py:120] - [Round 3] 客户端 1 的层 conv2.0.bias 数据接收完毕，开始重构...
2025-07-17 15:21:11 - INFO - [he_aggregation_strategy.py:138] - [Round 3] 层 conv2.0.bias 重构并存储成功。
2025-07-17 16:55:15 - INFO - [he_aggregation_strategy.py:120] - [Round 3] 客户端 2 的层 fc1.0.weight 数据接收完毕，开始重构...
2025-07-17 16:55:17 - INFO - [he_aggregation_strategy.py:138] - [Round 3] 层 fc1.0.weight 重构并存储成功。
2025-07-17 16:55:17 - INFO - [he_aggregation_strategy.py:120] - [Round 3] 客户端 3 的层 fc1.0.weight 数据接收完毕，开始重构...
2025-07-17 16:55:20 - INFO - [he_aggregation_strategy.py:138] - [Round 3] 层 fc1.0.weight 重构并存储成功。
2025-07-17 16:55:21 - INFO - [he_aggregation_strategy.py:120] - [Round 3] 客户端 2 的层 fc1.0.bias 数据接收完毕，开始重构...
2025-07-17 16:55:21 - INFO - [he_aggregation_strategy.py:138] - [Round 3] 层 fc1.0.bias 重构并存储成功。
2025-07-17 16:55:23 - INFO - [he_aggregation_strategy.py:120] - [Round 3] 客户端 3 的层 fc1.0.bias 数据接收完毕，开始重构...
2025-07-17 16:55:23 - INFO - [he_aggregation_strategy.py:138] - [Round 3] 层 fc1.0.bias 重构并存储成功。
2025-07-17 16:55:24 - INFO - [he_aggregation_strategy.py:120] - [Round 3] 客户端 1 的层 fc1.0.weight 数据接收完毕，开始重构...
2025-07-17 16:55:26 - INFO - [he_aggregation_strategy.py:138] - [Round 3] 层 fc1.0.weight 重构并存储成功。
2025-07-17 16:55:29 - INFO - [he_aggregation_strategy.py:120] - [Round 3] 客户端 1 的层 fc1.0.bias 数据接收完毕，开始重构...
2025-07-17 16:55:29 - INFO - [he_aggregation_strategy.py:138] - [Round 3] 层 fc1.0.bias 重构并存储成功。
2025-07-17 16:56:16 - INFO - [he_aggregation_strategy.py:120] - [Round 3] 客户端 2 的层 fc.weight 数据接收完毕，开始重构...
2025-07-17 16:56:16 - INFO - [he_aggregation_strategy.py:138] - [Round 3] 层 fc.weight 重构并存储成功。
2025-07-17 16:56:16 - INFO - [he_aggregation_strategy.py:120] - [Round 3] 客户端 2 的层 fc.bias 数据接收完毕，开始重构...
2025-07-17 16:56:16 - INFO - [he_aggregation_strategy.py:138] - [Round 3] 层 fc.bias 重构并存储成功。
2025-07-17 16:56:16 - INFO - [he_aggregation_strategy.py:145] - [Round 3] 已成功处理客户端 2 的所有流式数据。
2025-07-17 16:56:16 - INFO - [he_aggregation_strategy.py:148] - [Round 3] 所有客户端更新完毕，触发聚合。
2025-07-17 16:56:16 - INFO - [server_grpc.py:199] - [Round 3] 所有客户端参数已收集完毕，开始聚合。
2025-07-17 16:56:16 - INFO - [he_aggregation_strategy.py:180] - [Round 3] 开始密文聚合...
2025-07-17 16:56:16 - DEBUG - [he_aggregation_strategy.py:205] - 开始解密参数 conv1.0.weight...
2025-07-17 16:56:18 - INFO - [he_aggregation_strategy.py:120] - [Round 3] 客户端 3 的层 fc.weight 数据接收完毕，开始重构...
2025-07-17 16:56:19 - DEBUG - [he_aggregation_strategy.py:205] - 开始解密参数 conv1.0.bias...
2025-07-17 16:56:21 - DEBUG - [he_aggregation_strategy.py:205] - 开始解密参数 conv2.0.weight...
2025-07-17 16:56:25 - INFO - [he_aggregation_strategy.py:120] - [Round 3] 客户端 1 的层 fc.weight 数据接收完毕，开始重构...
2025-07-17 16:58:57 - DEBUG - [he_aggregation_strategy.py:205] - 开始解密参数 conv2.0.bias...
2025-07-17 16:59:16 - DEBUG - [he_aggregation_strategy.py:205] - 开始解密参数 fc1.0.weight...
2025-07-17 17:25:51 - DEBUG - [he_aggregation_strategy.py:205] - 开始解密参数 fc1.0.bias...
2025-07-17 17:25:53 - INFO - [he_aggregation_strategy.py:232] - [Round 3] 密文参数聚合与解密完成。
2025-07-17 17:25:53 - INFO - [server_grpc.py:204] - [Round 3] 全局模型参数更新完成。
2025-07-17 17:25:53 - INFO - [he_aggregation_strategy.py:272] - [Round 3] 全局评估 (HE): Acc=0.9812, AUC=0.9981, Loss=0.0401
2025-07-17 17:25:53 - INFO - [server_grpc.py:229] - 第 3 轮聚合完成，进入第 4 轮。
2025-07-17 17:25:53 - INFO - [server_grpc.py:141] - [Round 4] 客户端 2 检查训练状态，当前next_step=True, count=0
2025-07-17 17:25:53 - INFO - [server_grpc.py:146] - [Round 4] 客户端 2 获得训练许可，count增加到 1/3
2025-07-17 17:25:53 - INFO - [he_aggregation_strategy.py:138] - [Round 3] 层 fc.weight 重构并存储成功。
2025-07-17 17:25:53 - INFO - [he_aggregation_strategy.py:138] - [Round 3] 层 fc.weight 重构并存储成功。
2025-07-17 17:25:53 - INFO - [he_aggregation_strategy.py:120] - [Round 3] 客户端 3 的层 fc.bias 数据接收完毕，开始重构...
2025-07-17 17:25:53 - INFO - [he_aggregation_strategy.py:120] - [Round 3] 客户端 1 的层 fc.bias 数据接收完毕，开始重构...
2025-07-17 17:25:53 - INFO - [he_aggregation_strategy.py:138] - [Round 3] 层 fc.bias 重构并存储成功。
2025-07-17 17:25:53 - INFO - [he_aggregation_strategy.py:138] - [Round 3] 层 fc.bias 重构并存储成功。
2025-07-17 17:25:53 - INFO - [server_grpc.py:187] - 向客户端 2 提供第3轮全局模型
2025-07-17 17:25:53 - INFO - [he_aggregation_strategy.py:145] - [Round 3] 已成功处理客户端 3 的所有流式数据。
2025-07-17 17:25:53 - INFO - [he_aggregation_strategy.py:145] - [Round 3] 已成功处理客户端 1 的所有流式数据。
2025-07-17 17:25:53 - INFO - [server_grpc.py:141] - [Round 4] 客户端 3 检查训练状态，当前next_step=True, count=1
2025-07-17 17:25:53 - INFO - [server_grpc.py:146] - [Round 4] 客户端 3 获得训练许可，count增加到 2/3
2025-07-17 17:25:53 - INFO - [server_grpc.py:141] - [Round 4] 客户端 1 检查训练状态，当前next_step=True, count=2
2025-07-17 17:25:53 - INFO - [server_grpc.py:146] - [Round 4] 客户端 1 获得训练许可，count增加到 3/3
2025-07-17 17:25:53 - INFO - [server_grpc.py:150] - [Round 4] 所有客户端已获得训练许可，重置next_step=False, count=0
2025-07-17 17:25:53 - INFO - [server_grpc.py:187] - 向客户端 3 提供第3轮全局模型
2025-07-17 17:25:53 - INFO - [server_grpc.py:187] - 向客户端 1 提供第3轮全局模型
2025-07-17 17:26:12 - INFO - [he_aggregation_strategy.py:99] - [Round 4] 开始接收来自客户端 3 的流式更新...
2025-07-17 17:26:13 - INFO - [he_aggregation_strategy.py:99] - [Round 4] 开始接收来自客户端 1 的流式更新...
2025-07-17 17:26:13 - INFO - [he_aggregation_strategy.py:99] - [Round 4] 开始接收来自客户端 2 的流式更新...
2025-07-17 17:26:21 - INFO - [he_aggregation_strategy.py:120] - [Round 4] 客户端 3 的层 conv1.0.weight 数据接收完毕，开始重构...
2025-07-17 17:26:21 - INFO - [he_aggregation_strategy.py:138] - [Round 4] 层 conv1.0.weight 重构并存储成功。
2025-07-17 17:26:22 - INFO - [he_aggregation_strategy.py:120] - [Round 4] 客户端 1 的层 conv1.0.weight 数据接收完毕，开始重构...
2025-07-17 17:26:22 - INFO - [he_aggregation_strategy.py:138] - [Round 4] 层 conv1.0.weight 重构并存储成功。
2025-07-17 17:26:22 - INFO - [he_aggregation_strategy.py:120] - [Round 4] 客户端 3 的层 conv1.0.bias 数据接收完毕，开始重构...
2025-07-17 17:26:22 - INFO - [he_aggregation_strategy.py:138] - [Round 4] 层 conv1.0.bias 重构并存储成功。
2025-07-17 17:26:22 - INFO - [he_aggregation_strategy.py:120] - [Round 4] 客户端 2 的层 conv1.0.weight 数据接收完毕，开始重构...
2025-07-17 17:26:22 - INFO - [he_aggregation_strategy.py:138] - [Round 4] 层 conv1.0.weight 重构并存储成功。
2025-07-17 17:26:22 - INFO - [he_aggregation_strategy.py:120] - [Round 4] 客户端 1 的层 conv1.0.bias 数据接收完毕，开始重构...
2025-07-17 17:26:22 - INFO - [he_aggregation_strategy.py:138] - [Round 4] 层 conv1.0.bias 重构并存储成功。
2025-07-17 17:26:22 - INFO - [he_aggregation_strategy.py:120] - [Round 4] 客户端 2 的层 conv1.0.bias 数据接收完毕，开始重构...
2025-07-17 17:26:22 - INFO - [he_aggregation_strategy.py:138] - [Round 4] 层 conv1.0.bias 重构并存储成功。
2025-07-17 17:35:33 - INFO - [he_aggregation_strategy.py:120] - [Round 4] 客户端 1 的层 conv2.0.weight 数据接收完毕，开始重构...
2025-07-17 17:35:33 - INFO - [he_aggregation_strategy.py:138] - [Round 4] 层 conv2.0.weight 重构并存储成功。
2025-07-17 17:35:34 - INFO - [he_aggregation_strategy.py:120] - [Round 4] 客户端 2 的层 conv2.0.weight 数据接收完毕，开始重构...
2025-07-17 17:35:34 - INFO - [he_aggregation_strategy.py:120] - [Round 4] 客户端 3 的层 conv2.0.weight 数据接收完毕，开始重构...
2025-07-17 17:35:34 - INFO - [he_aggregation_strategy.py:138] - [Round 4] 层 conv2.0.weight 重构并存储成功。
2025-07-17 17:35:34 - INFO - [he_aggregation_strategy.py:120] - [Round 4] 客户端 1 的层 conv2.0.bias 数据接收完毕，开始重构...
2025-07-17 17:35:34 - INFO - [he_aggregation_strategy.py:138] - [Round 4] 层 conv2.0.weight 重构并存储成功。
2025-07-17 17:35:34 - INFO - [he_aggregation_strategy.py:138] - [Round 4] 层 conv2.0.bias 重构并存储成功。
2025-07-17 17:35:35 - INFO - [he_aggregation_strategy.py:120] - [Round 4] 客户端 2 的层 conv2.0.bias 数据接收完毕，开始重构...
2025-07-17 17:35:35 - INFO - [he_aggregation_strategy.py:138] - [Round 4] 层 conv2.0.bias 重构并存储成功。
2025-07-17 17:35:35 - INFO - [he_aggregation_strategy.py:120] - [Round 4] 客户端 3 的层 conv2.0.bias 数据接收完毕，开始重构...
2025-07-17 17:35:35 - INFO - [he_aggregation_strategy.py:138] - [Round 4] 层 conv2.0.bias 重构并存储成功。
2025-07-17 19:09:30 - INFO - [he_aggregation_strategy.py:120] - [Round 4] 客户端 2 的层 fc1.0.weight 数据接收完毕，开始重构...
2025-07-17 19:09:32 - INFO - [he_aggregation_strategy.py:138] - [Round 4] 层 fc1.0.weight 重构并存储成功。
2025-07-17 19:09:34 - INFO - [he_aggregation_strategy.py:120] - [Round 4] 客户端 3 的层 fc1.0.weight 数据接收完毕，开始重构...
2025-07-17 19:09:35 - INFO - [he_aggregation_strategy.py:120] - [Round 4] 客户端 2 的层 fc1.0.bias 数据接收完毕，开始重构...
2025-07-17 19:09:35 - INFO - [he_aggregation_strategy.py:138] - [Round 4] 层 fc1.0.bias 重构并存储成功。
2025-07-17 19:09:37 - INFO - [he_aggregation_strategy.py:138] - [Round 4] 层 fc1.0.weight 重构并存储成功。
2025-07-17 19:09:38 - INFO - [he_aggregation_strategy.py:120] - [Round 4] 客户端 1 的层 fc1.0.weight 数据接收完毕，开始重构...
2025-07-17 19:09:40 - INFO - [he_aggregation_strategy.py:120] - [Round 4] 客户端 3 的层 fc1.0.bias 数据接收完毕，开始重构...
2025-07-17 19:09:40 - INFO - [he_aggregation_strategy.py:138] - [Round 4] 层 fc1.0.weight 重构并存储成功。
2025-07-17 19:09:40 - INFO - [he_aggregation_strategy.py:138] - [Round 4] 层 fc1.0.bias 重构并存储成功。
2025-07-17 19:09:43 - INFO - [he_aggregation_strategy.py:120] - [Round 4] 客户端 1 的层 fc1.0.bias 数据接收完毕，开始重构...
2025-07-17 19:09:43 - INFO - [he_aggregation_strategy.py:138] - [Round 4] 层 fc1.0.bias 重构并存储成功。
2025-07-17 19:10:30 - INFO - [he_aggregation_strategy.py:120] - [Round 4] 客户端 2 的层 fc.weight 数据接收完毕，开始重构...
2025-07-17 19:10:30 - INFO - [he_aggregation_strategy.py:138] - [Round 4] 层 fc.weight 重构并存储成功。
2025-07-17 19:10:30 - INFO - [he_aggregation_strategy.py:120] - [Round 4] 客户端 2 的层 fc.bias 数据接收完毕，开始重构...
2025-07-17 19:10:30 - INFO - [he_aggregation_strategy.py:138] - [Round 4] 层 fc.bias 重构并存储成功。
2025-07-17 19:10:31 - INFO - [he_aggregation_strategy.py:145] - [Round 4] 已成功处理客户端 2 的所有流式数据。
2025-07-17 19:10:31 - INFO - [he_aggregation_strategy.py:148] - [Round 4] 所有客户端更新完毕，触发聚合。
2025-07-17 19:10:31 - INFO - [server_grpc.py:199] - [Round 4] 所有客户端参数已收集完毕，开始聚合。
2025-07-17 19:10:31 - INFO - [he_aggregation_strategy.py:180] - [Round 4] 开始密文聚合...
2025-07-17 19:10:31 - DEBUG - [he_aggregation_strategy.py:205] - 开始解密参数 conv1.0.weight...
2025-07-17 19:10:33 - DEBUG - [he_aggregation_strategy.py:205] - 开始解密参数 conv1.0.bias...
2025-07-17 19:10:34 - INFO - [he_aggregation_strategy.py:120] - [Round 4] 客户端 3 的层 fc.weight 数据接收完毕，开始重构...
2025-07-17 19:10:35 - DEBUG - [he_aggregation_strategy.py:205] - 开始解密参数 conv2.0.weight...
2025-07-17 19:10:38 - INFO - [he_aggregation_strategy.py:120] - [Round 4] 客户端 1 的层 fc.weight 数据接收完毕，开始重构...
2025-07-17 19:13:10 - DEBUG - [he_aggregation_strategy.py:205] - 开始解密参数 conv2.0.bias...
2025-07-17 19:13:30 - DEBUG - [he_aggregation_strategy.py:205] - 开始解密参数 fc1.0.weight...
2025-07-17 19:40:02 - DEBUG - [he_aggregation_strategy.py:205] - 开始解密参数 fc1.0.bias...
2025-07-17 19:40:04 - INFO - [he_aggregation_strategy.py:232] - [Round 4] 密文参数聚合与解密完成。
2025-07-17 19:40:04 - INFO - [server_grpc.py:204] - [Round 4] 全局模型参数更新完成。
2025-07-17 19:40:04 - INFO - [he_aggregation_strategy.py:272] - [Round 4] 全局评估 (HE): Acc=0.9859, AUC=0.9987, Loss=0.0240
2025-07-17 19:40:04 - INFO - [server_grpc.py:229] - 第 4 轮聚合完成，进入第 5 轮。
2025-07-17 19:40:04 - INFO - [server_grpc.py:141] - [Round 5] 客户端 2 检查训练状态，当前next_step=True, count=0
2025-07-17 19:40:04 - INFO - [server_grpc.py:146] - [Round 5] 客户端 2 获得训练许可，count增加到 1/3
2025-07-17 19:40:04 - INFO - [he_aggregation_strategy.py:138] - [Round 4] 层 fc.weight 重构并存储成功。
2025-07-17 19:40:04 - INFO - [he_aggregation_strategy.py:138] - [Round 4] 层 fc.weight 重构并存储成功。
2025-07-17 19:40:04 - INFO - [he_aggregation_strategy.py:120] - [Round 4] 客户端 3 的层 fc.bias 数据接收完毕，开始重构...
2025-07-17 19:40:04 - INFO - [he_aggregation_strategy.py:120] - [Round 4] 客户端 1 的层 fc.bias 数据接收完毕，开始重构...
2025-07-17 19:40:04 - INFO - [he_aggregation_strategy.py:138] - [Round 4] 层 fc.bias 重构并存储成功。
2025-07-17 19:40:04 - INFO - [he_aggregation_strategy.py:138] - [Round 4] 层 fc.bias 重构并存储成功。
2025-07-17 19:40:04 - INFO - [he_aggregation_strategy.py:145] - [Round 4] 已成功处理客户端 3 的所有流式数据。
2025-07-17 19:40:04 - INFO - [server_grpc.py:187] - 向客户端 2 提供第4轮全局模型
2025-07-17 19:40:04 - INFO - [he_aggregation_strategy.py:145] - [Round 4] 已成功处理客户端 1 的所有流式数据。
2025-07-17 19:40:04 - INFO - [server_grpc.py:141] - [Round 5] 客户端 3 检查训练状态，当前next_step=True, count=1
2025-07-17 19:40:04 - INFO - [server_grpc.py:146] - [Round 5] 客户端 3 获得训练许可，count增加到 2/3
2025-07-17 19:40:04 - INFO - [server_grpc.py:141] - [Round 5] 客户端 1 检查训练状态，当前next_step=True, count=2
2025-07-17 19:40:04 - INFO - [server_grpc.py:146] - [Round 5] 客户端 1 获得训练许可，count增加到 3/3
2025-07-17 19:40:04 - INFO - [server_grpc.py:187] - 向客户端 3 提供第4轮全局模型
2025-07-17 19:40:04 - INFO - [server_grpc.py:150] - [Round 5] 所有客户端已获得训练许可，重置next_step=False, count=0
2025-07-17 19:40:04 - INFO - [server_grpc.py:187] - 向客户端 1 提供第4轮全局模型
2025-07-17 19:40:24 - INFO - [he_aggregation_strategy.py:99] - [Round 5] 开始接收来自客户端 2 的流式更新...
2025-07-17 19:40:25 - INFO - [he_aggregation_strategy.py:99] - [Round 5] 开始接收来自客户端 3 的流式更新...
2025-07-17 19:40:25 - INFO - [he_aggregation_strategy.py:99] - [Round 5] 开始接收来自客户端 1 的流式更新...
2025-07-17 19:40:33 - INFO - [he_aggregation_strategy.py:120] - [Round 5] 客户端 2 的层 conv1.0.weight 数据接收完毕，开始重构...
2025-07-17 19:40:33 - INFO - [he_aggregation_strategy.py:138] - [Round 5] 层 conv1.0.weight 重构并存储成功。
2025-07-17 19:40:33 - INFO - [he_aggregation_strategy.py:120] - [Round 5] 客户端 1 的层 conv1.0.weight 数据接收完毕，开始重构...
2025-07-17 19:40:33 - INFO - [he_aggregation_strategy.py:138] - [Round 5] 层 conv1.0.weight 重构并存储成功。
2025-07-17 19:40:34 - INFO - [he_aggregation_strategy.py:120] - [Round 5] 客户端 3 的层 conv1.0.weight 数据接收完毕，开始重构...
2025-07-17 19:40:34 - INFO - [he_aggregation_strategy.py:138] - [Round 5] 层 conv1.0.weight 重构并存储成功。
2025-07-17 19:40:34 - INFO - [he_aggregation_strategy.py:120] - [Round 5] 客户端 2 的层 conv1.0.bias 数据接收完毕，开始重构...
2025-07-17 19:40:34 - INFO - [he_aggregation_strategy.py:138] - [Round 5] 层 conv1.0.bias 重构并存储成功。
2025-07-17 19:40:34 - INFO - [he_aggregation_strategy.py:120] - [Round 5] 客户端 1 的层 conv1.0.bias 数据接收完毕，开始重构...
2025-07-17 19:40:34 - INFO - [he_aggregation_strategy.py:138] - [Round 5] 层 conv1.0.bias 重构并存储成功。
2025-07-17 19:40:34 - INFO - [he_aggregation_strategy.py:120] - [Round 5] 客户端 3 的层 conv1.0.bias 数据接收完毕，开始重构...
2025-07-17 19:40:34 - INFO - [he_aggregation_strategy.py:138] - [Round 5] 层 conv1.0.bias 重构并存储成功。
2025-07-17 19:49:43 - INFO - [he_aggregation_strategy.py:120] - [Round 5] 客户端 2 的层 conv2.0.weight 数据接收完毕，开始重构...
2025-07-17 19:49:43 - INFO - [he_aggregation_strategy.py:138] - [Round 5] 层 conv2.0.weight 重构并存储成功。
2025-07-17 19:49:43 - INFO - [he_aggregation_strategy.py:120] - [Round 5] 客户端 2 的层 conv2.0.bias 数据接收完毕，开始重构...
2025-07-17 19:49:43 - INFO - [he_aggregation_strategy.py:138] - [Round 5] 层 conv2.0.bias 重构并存储成功。
2025-07-17 19:49:44 - INFO - [he_aggregation_strategy.py:120] - [Round 5] 客户端 1 的层 conv2.0.weight 数据接收完毕，开始重构...
2025-07-17 19:49:44 - INFO - [he_aggregation_strategy.py:120] - [Round 5] 客户端 3 的层 conv2.0.weight 数据接收完毕，开始重构...
2025-07-17 19:49:44 - INFO - [he_aggregation_strategy.py:138] - [Round 5] 层 conv2.0.weight 重构并存储成功。
2025-07-17 19:49:44 - INFO - [he_aggregation_strategy.py:138] - [Round 5] 层 conv2.0.weight 重构并存储成功。
2025-07-17 19:49:45 - INFO - [he_aggregation_strategy.py:120] - [Round 5] 客户端 1 的层 conv2.0.bias 数据接收完毕，开始重构...
2025-07-17 19:49:45 - INFO - [he_aggregation_strategy.py:138] - [Round 5] 层 conv2.0.bias 重构并存储成功。
2025-07-17 19:49:45 - INFO - [he_aggregation_strategy.py:120] - [Round 5] 客户端 3 的层 conv2.0.bias 数据接收完毕，开始重构...
2025-07-17 19:49:45 - INFO - [he_aggregation_strategy.py:138] - [Round 5] 层 conv2.0.bias 重构并存储成功。
2025-07-17 21:23:38 - INFO - [he_aggregation_strategy.py:120] - [Round 5] 客户端 2 的层 fc1.0.weight 数据接收完毕，开始重构...
2025-07-17 21:23:41 - INFO - [he_aggregation_strategy.py:120] - [Round 5] 客户端 3 的层 fc1.0.weight 数据接收完毕，开始重构...
2025-07-17 21:23:41 - INFO - [he_aggregation_strategy.py:138] - [Round 5] 层 fc1.0.weight 重构并存储成功。
2025-07-17 21:23:44 - INFO - [he_aggregation_strategy.py:138] - [Round 5] 层 fc1.0.weight 重构并存储成功。
2025-07-17 21:23:44 - INFO - [he_aggregation_strategy.py:120] - [Round 5] 客户端 1 的层 fc1.0.weight 数据接收完毕，开始重构...
2025-07-17 21:23:44 - INFO - [he_aggregation_strategy.py:120] - [Round 5] 客户端 2 的层 fc1.0.bias 数据接收完毕，开始重构...
2025-07-17 21:23:44 - INFO - [he_aggregation_strategy.py:138] - [Round 5] 层 fc1.0.bias 重构并存储成功。
2025-07-17 21:23:46 - INFO - [he_aggregation_strategy.py:120] - [Round 5] 客户端 3 的层 fc1.0.bias 数据接收完毕，开始重构...
2025-07-17 21:23:46 - INFO - [he_aggregation_strategy.py:138] - [Round 5] 层 fc1.0.weight 重构并存储成功。
2025-07-17 21:23:46 - INFO - [he_aggregation_strategy.py:138] - [Round 5] 层 fc1.0.bias 重构并存储成功。
2025-07-17 21:23:49 - INFO - [he_aggregation_strategy.py:120] - [Round 5] 客户端 1 的层 fc1.0.bias 数据接收完毕，开始重构...
2025-07-17 21:23:49 - INFO - [he_aggregation_strategy.py:138] - [Round 5] 层 fc1.0.bias 重构并存储成功。
2025-07-17 21:24:40 - INFO - [he_aggregation_strategy.py:120] - [Round 5] 客户端 2 的层 fc.weight 数据接收完毕，开始重构...
2025-07-17 21:24:40 - INFO - [he_aggregation_strategy.py:138] - [Round 5] 层 fc.weight 重构并存储成功。
2025-07-17 21:24:40 - INFO - [he_aggregation_strategy.py:120] - [Round 5] 客户端 2 的层 fc.bias 数据接收完毕，开始重构...
2025-07-17 21:24:40 - INFO - [he_aggregation_strategy.py:138] - [Round 5] 层 fc.bias 重构并存储成功。
2025-07-17 21:24:40 - INFO - [he_aggregation_strategy.py:145] - [Round 5] 已成功处理客户端 2 的所有流式数据。
2025-07-17 21:24:40 - INFO - [he_aggregation_strategy.py:148] - [Round 5] 所有客户端更新完毕，触发聚合。
2025-07-17 21:24:40 - INFO - [server_grpc.py:199] - [Round 5] 所有客户端参数已收集完毕，开始聚合。
2025-07-17 21:24:40 - INFO - [he_aggregation_strategy.py:180] - [Round 5] 开始密文聚合...
2025-07-17 21:24:40 - DEBUG - [he_aggregation_strategy.py:205] - 开始解密参数 conv1.0.weight...
2025-07-17 21:24:42 - INFO - [he_aggregation_strategy.py:120] - [Round 5] 客户端 3 的层 fc.weight 数据接收完毕，开始重构...
2025-07-17 21:24:43 - DEBUG - [he_aggregation_strategy.py:205] - 开始解密参数 conv1.0.bias...
2025-07-17 21:24:44 - INFO - [he_aggregation_strategy.py:120] - [Round 5] 客户端 1 的层 fc.weight 数据接收完毕，开始重构...
2025-07-17 21:24:45 - DEBUG - [he_aggregation_strategy.py:205] - 开始解密参数 conv2.0.weight...
2025-07-17 21:27:20 - DEBUG - [he_aggregation_strategy.py:205] - 开始解密参数 conv2.0.bias...
2025-07-17 21:27:39 - DEBUG - [he_aggregation_strategy.py:205] - 开始解密参数 fc1.0.weight...
2025-07-17 21:54:11 - DEBUG - [he_aggregation_strategy.py:205] - 开始解密参数 fc1.0.bias...
2025-07-17 21:54:13 - ERROR - [server_grpc.py:231] - 处理轮次 4 完成时出错: 'fc.weight'
Traceback (most recent call last):
  File "/app/src/grpc/server_grpc.py", line 201, in process_round_completion
    aggregated_params = self.aggregation_strategy.aggregate_parameters(round_num)
  File "/app/src/strategies/server/he_aggregation_strategy.py", line 202, in aggregate_parameters
    summed_params = sum(p[key] for p in parameters_list)
  File "/app/src/strategies/server/he_aggregation_strategy.py", line 202, in <genexpr>
    summed_params = sum(p[key] for p in parameters_list)
KeyError: 'fc.weight'
2025-07-17 21:54:13 - INFO - [server_grpc.py:141] - [Round 5] 客户端 2 检查训练状态，当前next_step=False, count=0
2025-07-17 21:54:13 - INFO - [he_aggregation_strategy.py:138] - [Round 5] 层 fc.weight 重构并存储成功。
2025-07-17 21:54:13 - INFO - [he_aggregation_strategy.py:138] - [Round 5] 层 fc.weight 重构并存储成功。
2025-07-17 21:54:13 - INFO - [he_aggregation_strategy.py:120] - [Round 5] 客户端 3 的层 fc.bias 数据接收完毕，开始重构...
2025-07-17 21:54:13 - INFO - [he_aggregation_strategy.py:120] - [Round 5] 客户端 1 的层 fc.bias 数据接收完毕，开始重构...
2025-07-17 21:54:13 - INFO - [he_aggregation_strategy.py:138] - [Round 5] 层 fc.bias 重构并存储成功。
2025-07-17 21:54:13 - INFO - [he_aggregation_strategy.py:138] - [Round 5] 层 fc.bias 重构并存储成功。
2025-07-17 21:54:13 - INFO - [he_aggregation_strategy.py:145] - [Round 5] 已成功处理客户端 3 的所有流式数据。
2025-07-17 21:54:13 - INFO - [he_aggregation_strategy.py:148] - [Round 5] 所有客户端更新完毕，触发聚合。
2025-07-17 21:54:13 - INFO - [he_aggregation_strategy.py:145] - [Round 5] 已成功处理客户端 1 的所有流式数据。
2025-07-17 21:54:13 - INFO - [he_aggregation_strategy.py:148] - [Round 5] 所有客户端更新完毕，触发聚合。
2025-07-17 21:54:13 - INFO - [server_grpc.py:199] - [Round 5] 所有客户端参数已收集完毕，开始聚合。
2025-07-17 21:54:13 - INFO - [he_aggregation_strategy.py:180] - [Round 5] 开始密文聚合...
2025-07-17 21:54:13 - DEBUG - [he_aggregation_strategy.py:205] - 开始解密参数 conv1.0.weight...
2025-07-17 21:54:15 - DEBUG - [he_aggregation_strategy.py:205] - 开始解密参数 conv1.0.bias...
2025-07-17 21:54:17 - DEBUG - [he_aggregation_strategy.py:205] - 开始解密参数 conv2.0.weight...
2025-07-17 21:56:53 - DEBUG - [he_aggregation_strategy.py:205] - 开始解密参数 conv2.0.bias...
2025-07-17 21:57:11 - DEBUG - [he_aggregation_strategy.py:205] - 开始解密参数 fc1.0.weight...
2025-07-17 22:23:46 - DEBUG - [he_aggregation_strategy.py:205] - 开始解密参数 fc1.0.bias...
2025-07-17 22:23:47 - DEBUG - [he_aggregation_strategy.py:205] - 开始解密参数 fc.weight...
2025-07-17 22:24:03 - DEBUG - [he_aggregation_strategy.py:205] - 开始解密参数 fc.bias...
2025-07-17 22:24:03 - INFO - [he_aggregation_strategy.py:232] - [Round 5] 密文参数聚合与解密完成。
2025-07-17 22:24:03 - INFO - [server_grpc.py:204] - [Round 5] 全局模型参数更新完成。
2025-07-17 22:24:03 - INFO - [he_aggregation_strategy.py:272] - [Round 5] 全局评估 (HE): Acc=0.9848, AUC=0.9988, Loss=0.0263
2025-07-17 22:24:03 - INFO - [server_grpc.py:229] - 第 5 轮聚合完成，进入第 6 轮。
2025-07-17 22:24:03 - INFO - [server_grpc.py:199] - [Round 5] 所有客户端参数已收集完毕，开始聚合。
2025-07-17 22:24:03 - INFO - [he_aggregation_strategy.py:180] - [Round 5] 开始密文聚合...
2025-07-17 22:24:03 - INFO - [server_grpc.py:204] - [Round 5] 全局模型参数更新完成。
2025-07-17 22:24:03 - INFO - [server_grpc.py:229] - 第 5 轮聚合完成，进入第 7 轮。
2025-07-17 22:24:03 - INFO - [server_grpc.py:141] - [Round 7] 客户端 3 检查训练状态，当前next_step=True, count=0
2025-07-17 22:24:03 - INFO - [server_grpc.py:146] - [Round 7] 客户端 3 获得训练许可，count增加到 1/3
2025-07-17 22:24:03 - INFO - [server_grpc.py:141] - [Round 7] 客户端 1 检查训练状态，当前next_step=True, count=1
2025-07-17 22:24:03 - INFO - [server_grpc.py:146] - [Round 7] 客户端 1 获得训练许可，count增加到 2/3
2025-07-17 22:24:03 - INFO - [server_grpc.py:141] - [Round 7] 客户端 2 检查训练状态，当前next_step=True, count=2
2025-07-17 22:24:03 - INFO - [server_grpc.py:146] - [Round 7] 客户端 2 获得训练许可，count增加到 3/3
2025-07-17 22:24:03 - INFO - [server_grpc.py:150] - [Round 7] 所有客户端已获得训练许可，重置next_step=False, count=0
2025-07-17 22:24:03 - INFO - [server_grpc.py:187] - 向客户端 1 提供第5轮全局模型
2025-07-17 22:24:03 - INFO - [server_grpc.py:187] - 向客户端 3 提供第5轮全局模型
2025-07-17 22:24:03 - INFO - [server_grpc.py:187] - 向客户端 2 提供第5轮全局模型
